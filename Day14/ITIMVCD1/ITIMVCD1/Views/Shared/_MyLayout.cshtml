@using System.Security.Claims
@using Microsoft.AspNetCore.Authentication.Cookies;
@using Microsoft.AspNetCore.Mvc;



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>@ViewBag.Title</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="~/assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Simple line icons-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="~/css/styles.css" rel="stylesheet" />
</head>
<body id="page-top">
    @* <h1>@Localizer["WelcomeMessage"]</h1> *@
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="#page-top">School</a>

            @{
                var selectedCulture = ViewContext.HttpContext.Request.Cookies["culture"] ?? "en-US";
            }

            <form method="post" asp-controller="Home" asp-action="ChangeCulture" class="me-2">
                 <select name="culture" onchange="this.form.submit()" class="bg-primary text-light">
                    @if (selectedCulture == "en-US")
                    {
                        <option value="en-US" selected>English</option>
                        <option value="ar-SA">عربي</option>
                    }
                    else
                    {
                        <option value="en-US">English</option>
                        <option value="ar-SA" selected>عربي</option>
                    }
                  </select>
            </form>

            @if (User.Identity.IsAuthenticated)
            {
                <a class="nav-brand">
                    <span class="navbar-text">
                        Welcome @User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.Email)?.Value
                    </span>
                </a>
            }
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    @if (User.Identity.IsAuthenticated)
                    {
                        @if (User.IsInRole("Admin"))
                        {
                            <li class="nav-item"><a class="nav-link" href="/Account/Index/#about">Users</a></li>
                            <li class="nav-item"><a class="nav-link" href="/Role/Index/#about">Roles</a></li>
                        }
                        <li class="nav-item"><a class="nav-link" href="/Student/Index/#about">Student</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Department/Index/#about">Department</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Course/Index/#about">Course</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Account/Logout/#about">Logout</a></li>
                    }
                    else
                    {
                        <li class="nav-item"><a class="nav-link" href="/Account/Login/#about">Login</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Account/Register/#about">Register</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Student/Index/#about">Student</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Department/Index/#about">Department</a></li>
                        <li class="nav-item"><a class="nav-link" href="/Course/Index/#about">Course</a></li>
                    }
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header-->
    <header class="masthead d-flex align-items-center">
        <div class="container px-4 px-lg-5 text-center">
            <h1 class="mb-1">Welcome to our school</h1>
            <h3 class="mb-5"><em>School management system</em></h3>
            <a class="btn btn-primary btn-xl" href="#about">Find Out More</a>
        </div>
    </header>

    <!-- About-->
    <section class="content-section bg-light" id="about">
        <div class="container px-4 px-lg-5 text-center">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-10">
                    @RenderBody()
                </div>
            </div>
        </div>
    </section>


    <section class="content-section bg-white">
        <div class="container px-4 px-lg-5 text-center">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-10">
                    <h2 class="mb-4 text-primary">About Our School Management System</h2>
                    <p class="text-primary">Our system simplifies and automates the entire school management process. Manage students, teachers, departments, and courses efficiently, all in one place. It provides secure and convenient access for administrators, teachers, students, and parents.</p>
                </div>
            </div>
        </div>
    </section>


    <section class="content-section bg-primary text-white text-center" id="services">
        <div class="container px-3 px-lg-2">
            <div class="content-section-heading">
                <h2 class="mb-5">What We Offer</h2>
            </div>
            <div class="row gx-4 gx-lg-5">
                <div class="col-lg-3 col-md-6 mb-5 mb-lg-0">
                    <span class="service-icon rounded-circle mx-auto mb-3"><i class="fas fa-users"></i></span>
                    <h4><strong>Student Management</strong></h4>
                    <p class="text-faded mb-0">Manage student admissions, records, and attendance.</p>
                </div>
                <div class="col-lg-3 col-md-6 mb-5 mb-lg-0">
                    <span class="service-icon rounded-circle mx-auto mb-3"><i class="fas fa-chalkboard-teacher"></i></span>
                    <h4><strong>Teacher Management</strong></h4>
                    <p class="text-faded mb-0">Track teacher profiles, schedules, and performance.</p>
                </div>
                <div class="col-lg-3 col-md-6 mb-5 mb-md-0">
                    <span class="service-icon rounded-circle mx-auto mb-3"><i class="fas fa-book"></i></span>
                    <h4><strong>Course Management</strong></h4>
                    <p class="text-faded mb-0">Create, assign, and manage course materials and grades.</p>
                </div>
                <div class="col-lg-3 col-md-6">
                    <span class="service-icon rounded-circle mx-auto mb-3"><i class="fas fa-building"></i></span>
                    <h4><strong>Department Management</strong></h4>
                    <p class="text-faded mb-0">Oversee departments and ensure smooth operations.</p>
                </div>
            </div>
        </div>
    </section>


    <footer class="footer text-center">
        <div class="container px-4 px-lg-5">
            <ul class="list-inline mb-5">
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white mr-3" href="#!"><i class="fab fa-facebook-f"></i></a>
                </li>
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white mr-3" href="#!"><i class="fab fa-twitter"></i></a>
                </li>
                <li class="list-inline-item">
                    <a class="social-link rounded-circle text-white" href="#!"><i class="fab fa-github"></i></a>
                </li>
            </ul>
            <p class="text-muted small mb-0">Copyright &copy; School Management System 2023</p>
        </div>
    </footer>

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="~/js/scripts.js"></script>
    @RenderSection("Scripts", false)
</body>
</html>
